<div class="phone-help">
  <div class="phone-help-content"
       [ngClass]="phoneHelpService.state | toclassname">
    <div class="header" fxLayout="row" fxLayoutAlign="space-between center" (click)="phoneHelpService.showFull()">
      <div class="phone-image-wrapper" fxLayoutAlign="center center">
        <i class="imp-icon-phone-ring"></i>
      </div>
      <div class="title">Want help over the phone?</div>
      <mat-icon class="close-popup" color="accent" (click)="phoneHelpService.hide($event)">clear</mat-icon>
    </div>

    <div class="description">Give us your number and we will help match you with the right Pro for the job!</div>

    <form #callRequestForm="ngForm" class="call-request-form"
          (ngSubmit)="callRequestForm.valid && onSubmit(callRequestForm)"
          novalidate>

      <div class="mat-input-container-wrapper">
        <cv-input-field>
          <input cv-input placeholder="Your name"
                 #name="ngModel"
                 name="name"
                 type="text"
                 [(ngModel)]="callRequest.name"
                 required>

          <cv-field-error *ngIf="name.dirty || name.touched || callRequestForm.submitted">
            <span *ngIf="name.errors?.required">
              {{messages.errors.name.required}}
            </span>
          </cv-field-error>

        </cv-input-field>
      </div>

      <div class="mat-input-container-wrapper">
        <cv-input-field>
          <input cv-input placeholder="Phone number"
                 #phone="ngModel"
                 name="phone"
                 type="text"
                 [(ngModel)]="callRequest.phone"
                 phoneMask
                 required
                 maxlength="14"
                 [pattern]="constants.patterns.phone">

          <cv-field-error *ngIf="phone.dirty || phone.touched || callRequestForm.submitted">
            <span *ngIf="phone.errors?.required">
              {{messages.errors.phone.required}}
            </span>
            <span *ngIf="phone.errors?.pattern">
              {{messages.errors.phone.pattern}}
            </span>
          </cv-field-error>

        </cv-input-field>
      </div>

      <button class="call-request-submit-button">Continue</button>

    </form>

  </div>

</div>
