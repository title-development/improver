<ng-container *ngIf="state == subscriptionState.NOT_SUBSCRIBED">
  <div class="not-subscribed">
    <h3>Subscribe for discounted leads</h3>
    <p>Plan your monthly workload</p>
    <button class="secondary-button" (click)="subscribeNow()">
      Subscribe
    </button>
    <div class="gradient">
      <div class="circle">
        <div class="circle -second -offset"><div class="circle -third -offset"><div class="circle -four -offset"></div></div></div>
      </div>
    </div>
  </div>
</ng-container>
<ng-container *ngIf="state == subscriptionState.SUBSCRIBED">
  <div class="subscribed">
    <div class="labels">
      <div class="label">{{leadsReport?.current.month}}</div>
      <div class="label">Subscription</div>
    </div>

    <div class="amount-holder">
      <div class="amount">
        <span>{{leadsReport.current.subscriptionSpend / 100 | currency:'USD':'symbol': '1.0-0'}}</span>
        <span>/{{leadsReport.current.subscriptionAmount / 100 | currency:'USD':'symbol': '1.0-0'}}</span>
      </div>
      <div class="deals">{{leadsReport.current.subscriptionDeals}}
        <ng-container [ngPlural]="leadsReport.current.subscriptionDeals">
          <ng-template ngPluralCase="=0">leads</ng-template>
          <ng-template ngPluralCase="=1">lead</ng-template>
          <ng-template ngPluralCase="few">leads</ng-template>
          <ng-template ngPluralCase="other">leads</ng-template>
        </ng-container>
      </div>
    </div>

    <div class="progress-holder">
      <div class="progress-background">
        <div class="progress" [ngStyle]="{'width' : subscriptionValue+'%'}" (mouseover)="showTooltip($event)" (mouseleave)="hideTooltip($event)"></div>
        <div class="tooltip" [ngClass]="{'show': tooltipShow}" [ngStyle]="{'left': tooltipPositionLeft}">{{leadsReport.current.subscriptionSpend / 100 | currency:'USD':'symbol'}}</div>
      </div>
    </div>
  </div>
</ng-container>
